(window["webpackJsonpbeach-resort"]=window["webpackJsonpbeach-resort"]||[]).push([[0],{104:function(e,t,a){},198:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(81),l=a.n(c);a(104);function o(e){var t=e.children,a=e.hero;return r.a.createElement("header",{className:a},t)}function i(e){var t=e.children,a=e.title,n=e.subtitle;return r.a.createElement("div",{className:"banner"},r.a.createElement("h1",null,a),r.a.createElement("div",null),r.a.createElement("p",null,n),t)}o.defaultProps={hero:"defaultHero"};var s=a(10),m=a(11),u=a(13),p=a(12),f=a(14),E=a(46),d=a(47),h=a.n(d),b=a(16),v=a(82),g=a(95),y=Object(g.a)({space:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_SPACE,accessToken:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_ACCESS_TOKEN});function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach(function(t){Object(E.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var j=r.a.createContext(),k=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={rooms:[],sortedRooms:[],featuredRooms:[],loading:!0,type:"all",capacity:1,price:0,minPrice:0,maxPrice:0,minSize:0,maxSize:0,breakfast:!1,pets:!1},a.getData=Object(v.a)(h.a.mark(function e(){var t,n,r,c,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.getEntries({content_type:"beachResortRoom",order:"-fields.price"});case 3:t=e.sent,n=a.formatData(t.items),r=n.filter(function(e){return!0===e.featured}),c=Math.max.apply(Math,Object(b.a)(n.map(function(e){return e.price}))),l=Math.max.apply(Math,Object(b.a)(n.map(function(e){return e.size}))),a.setState({rooms:n,featuredRooms:r,sortedRooms:n,loading:!1,price:c,maxPrice:c,maxSize:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])})),a.getRoom=function(e){return Object(b.a)(a.state.rooms).find(function(t){return t.slug===e})},a.handleChange=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=e.target.name;a.setState(Object(E.a)({},r,n),a.filterRooms)},a.filterRooms=function(){var e=a.state,t=e.rooms,n=e.type,r=e.capacity,c=e.price,l=e.minSize,o=e.maxSize,i=e.breakfast,s=e.pets,m=Object(b.a)(t);r=parseInt(r),"all"!==n&&(m=m.filter(function(e){return e.type===n})),1!==r&&(m=m.filter(function(e){return e.capacity>=r})),m=(m=m.filter(function(e){return e.price<=c})).filter(function(e){return e.size>=l&&e.size<o}),i&&(m=m.filter(function(e){return!0===e.breakfast})),s&&(m=m.filter(function(e){return!0===e.pets})),a.setState({sortedRooms:m})},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"formatData",value:function(e){return e.map(function(e){var t=e.sys.id,a=e.fields.images.map(function(e){return e.fields.file.url});return N({},e.fields,{images:a,id:t})})}},{key:"render",value:function(){return r.a.createElement(j.Provider,{value:N({},this.state,{getRoom:this.getRoom,handleChange:this.handleChange})},this.props.children)}}]),t}(n.Component),x=j.Consumer;var S=a(87),w=a.n(S);function C(){return r.a.createElement("div",{className:"loading"},r.a.createElement("h4",null,"Rooms data loading..."),r.a.createElement("img",{src:w.a,alt:"Loading"}))}var R=a(2),P=a(21),z=a.n(P);function F(e){var t=e.room,a=t.name,n=t.slug,c=t.images,l=t.price;return r.a.createElement("article",{className:"room"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:c[0]||z.a,alt:"Single room"}),r.a.createElement("div",{className:"price-top"},r.a.createElement("h6",null,"$",l),r.a.createElement("p",null,"per night")),r.a.createElement(R.b,{to:"/rooms/".concat(n),className:"btn-primary room-link"},"Features")),r.a.createElement("p",{className:"room-info"},a))}function D(e){var t=e.title;return r.a.createElement("div",{className:"section-title"},r.a.createElement("h4",null,t),r.a.createElement("div",null))}var A=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.context,t=e.loading,a=e.featuredRooms;return a=a.map(function(e){return r.a.createElement(F,{key:e.id,room:e})}),r.a.createElement("section",{className:"featured-rooms"},r.a.createElement(D,{title:"featured rooms"}),r.a.createElement("div",{className:"featured-rooms-center"},t?r.a.createElement(C,null):a))}}]),t}(n.Component);A.contextType=j;var T=a(18),_=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).state={services:[{icon:r.a.createElement(T.c,null),title:"Free cocktails",info:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed, eius."},{icon:r.a.createElement(T.d,null),title:"Endless Hiking",info:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed, eius."},{icon:r.a.createElement(T.e,null),title:"Free Shuttle",info:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed, eius."},{icon:r.a.createElement(T.b,null),title:"Strongest Beer",info:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed, eius."}]},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"services"},r.a.createElement(D,{title:"Services"}),r.a.createElement("div",{className:"services-center"},this.state.services.map(function(e,t){return r.a.createElement("article",{key:t,className:"service"},r.a.createElement("span",null,e.icon),r.a.createElement("h6",null,e.title),r.a.createElement("p",null,e.info))})))}}]),t}(n.Component),L=a(90);function B(){var e=Object(L.a)(["\n    min-height: 60vh;\n    background: url(",") center/cover no-repeat;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return B=function(){return e},e}var I=a(91).a.header(B(),function(e){return e.img?e.img:z.a});function M(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o,null,r.a.createElement(i,{title:"Luxury rooms",subtitle:"deluxe rooms starting at \xa3299"},r.a.createElement(R.b,{to:"/rooms",className:"btn-primary"},"Our rooms"))),r.a.createElement(_,null),r.a.createElement(A,null))}var U=function(e,t){return Object(b.a)(new Set(e.map(function(e){return e[t]})))};function H(e){var t=e.rooms,a=Object(n.useContext)(j),c=a.handleChange,l=a.type,o=a.capacity,i=a.price,s=a.minPrice,m=a.maxPrice,u=a.minSize,p=a.maxSize,f=a.breakfast,E=a.pets,d=U(t,"type");d=(d=["all"].concat(Object(b.a)(d))).map(function(e,t){return r.a.createElement("option",{value:e,key:t},e)});var h=U(t,"capacity");return h=h.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)}),r.a.createElement("section",{className:"filter-container"},r.a.createElement("form",{className:"filter-form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"type"},"room type"),r.a.createElement("select",{name:"type",id:"type",value:l,className:"form-control",onChange:c},d)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"capacity"},"Guests"),r.a.createElement("select",{name:"capacity",id:"capacity",value:o,className:"form-control",onChange:c},h)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"price"},"room price \xa3",i),r.a.createElement("input",{type:"range",name:"price",id:"price",value:i,min:s,max:m,onChange:c,className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"size"},"room size (SQFT)"),r.a.createElement("div",{className:"size-inputs"},r.a.createElement("input",{type:"number",name:"minSize",id:"size",value:u,onChange:c,className:"size-input"}),r.a.createElement("input",{type:"number",name:"maxSize",id:"size",value:p,onChange:c,className:"size-input"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"single-extra"},r.a.createElement("input",{type:"checkbox",name:"breakfast",id:"breakfast",checked:f,onChange:c}),r.a.createElement("label",{htmlFor:"breakfast"},"breakfast")),r.a.createElement("div",{className:"single-extra"},r.a.createElement("input",{type:"checkbox",name:"pets",id:"pets",checked:E,onChange:c}),r.a.createElement("label",{htmlFor:"pets"},"pets")))))}function Q(e){var t=e.rooms;return 0===t.length?r.a.createElement("div",{className:"empty-search"},r.a.createElement("h3",null,"Unfortunately no rooms matched your search")):r.a.createElement("section",{className:"roomslist"},r.a.createElement("div",{className:"roomslist-center"},t.map(function(e){return r.a.createElement(F,{key:e.id,room:e})})))}var J,V=(J=function(e){var t=e.context,a=t.loading,n=t.sortedRooms,c=t.rooms;return a?r.a.createElement(C,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{rooms:c}),r.a.createElement(Q,{rooms:n}))},function(e){return r.a.createElement(x,null,function(t){return r.a.createElement(J,Object.assign({},e,{context:t}))})}),W=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o,{hero:"roomsHero"},r.a.createElement(i,{title:"our rooms"},r.a.createElement(R.b,{to:"/",className:"btn-primary"},"Return home"))),r.a.createElement(V,null))},$=a(96),G=function(e){function t(e){var a;return Object(s.a)(this,t),a=Object(u.a)(this,Object(p.a)(t).call(this,e)),console.log(a.props),a.state={slug:a.props.match.params.slug,defaultBcg:z.a},console.log(a.state.slug),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=(0,this.context.getRoom)(this.state.slug);if(!e)return r.a.createElement("div",{className:"error"},r.a.createElement("h3",null,"No such room could be found..."),r.a.createElement(R.b,{to:"/rooms",className:"btn-primary"},"Return to rooms"));var t=e.name,a=e.description,n=e.capacity,c=e.size,l=e.price,o=e.extras,s=e.breakfast,m=e.pets,u=e.images,p=Object($.a)(u),f=p[0],E=p.slice(1);return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{img:f||this.state.defaultBcg},r.a.createElement(i,{title:"".concat(t," room")},r.a.createElement(R.b,{to:"/rooms",className:"btn-primary"},"Back to rooms"))),r.a.createElement("section",{className:"single-room"},r.a.createElement("div",{className:"single-room-images"},E.map(function(e,a){return r.a.createElement("img",{src:e,key:a,alt:t})})),r.a.createElement("div",{className:"single-room-info"},r.a.createElement("article",{className:"desc"},r.a.createElement("h3",null,"Details"),r.a.createElement("p",null,a)),r.a.createElement("article",{className:"info"},r.a.createElement("h3",null,"Info"),r.a.createElement("h6",null,"price: \xa3",l),r.a.createElement("h6",null,"size: \xa3",c),r.a.createElement("h6",null,"Max capacity:","".concat(n,n>1?" people":" person")),r.a.createElement("h6",null,"size: ",c," SQFT"),r.a.createElement("h6",null,"extras: ",o," SQFT"),r.a.createElement("h6",null,m?"pets allowed":"no pets allowed"),r.a.createElement("h6",null,s&&"free breakfast included")))),r.a.createElement("section",{className:"room-extras"},r.a.createElement("h6",null,"Extras"),r.a.createElement("ul",{className:"extras"},o.map(function(e,t){return r.a.createElement("li",{key:t},"- ",e)}))))}}]),t}(n.Component);function K(){return r.a.createElement(o,null,r.a.createElement(i,{title:"404",subtitle:"Page not found"},r.a.createElement(R.b,{to:"/",className:"btn-primary"},"Return home")))}G.contextType=j;var q=a(15),X=a(94),Y=a.n(X),Z=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},a.handleToggle=function(){a.setState({isOpen:!a.state.isOpen})},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"nav-center"},r.a.createElement("div",{className:"nav-header"},r.a.createElement(R.b,{to:"/"},r.a.createElement("img",{src:Y.a,alt:"Beach Resort"})),r.a.createElement("button",{type:"button",className:"nav-btn",onClick:this.handleToggle},r.a.createElement(T.a,{className:"nav-icon"}))),r.a.createElement("ul",{className:this.state.isOpen?"nav-links show-nav":"nav-links"},r.a.createElement("li",null,r.a.createElement(R.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(R.b,{to:"/rooms/"},"Rooms")))))}}]),t}(n.Component);var ee=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Z,null),r.a.createElement(q.c,null,r.a.createElement(q.a,{exact:!0,path:"/",component:M}),r.a.createElement(q.a,{exact:!0,path:"/rooms/",component:W}),r.a.createElement(q.a,{exact:!0,path:"/rooms/:slug",component:G}),r.a.createElement(q.a,{component:K})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(k,null,r.a.createElement(R.a,null,r.a.createElement(ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},21:function(e,t,a){e.exports=a.p+"static/media/room-1.e928a5c4.jpeg"},48:function(e,t){},87:function(e,t,a){e.exports=a.p+"static/media/loading-arrow.e9ea7394.gif"},94:function(e,t,a){e.exports=a.p+"static/media/logo.9f0cccc1.svg"},99:function(e,t,a){e.exports=a(198)}},[[99,1,2]]]);
//# sourceMappingURL=main.69e600c3.chunk.js.map